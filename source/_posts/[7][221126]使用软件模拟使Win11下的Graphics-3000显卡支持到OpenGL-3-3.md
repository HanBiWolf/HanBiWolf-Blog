---
title: 使用软件模拟使Win11下的Graphics 3000显卡支持到OpenGL 3.3
category: 科技技术
comment: true
abbrlink: 1d1322a6
date: 2022-11-26 22:31:44
tags:
---

## 前言
这不是最近咱被人拉去玩服务器了嘛
然后对面跟我说服务器版本是1.19,当时我的心就凉了半截

[之前的一篇关于驱动的文章](https://www.hanbiwolf.cc/posts/1735315246/)

其中这个社区驱动也仅仅支持到OpenGL 3.1
而1.17+都需要3.3的版本
那么..我就不能体验1.19了吗?

## 软件模拟
后来我在万能的阿B上面发现了一个视频
是说可以用mesa软件模拟GPU运算
(实际上就是CPU当GPU用,让CPU承担GPU的一部分计算负担)

~~这个方法是比较有用的,但是我在之前的文章吐槽过说这种方法要一个个打补丁很麻烦~~
(真香

最后事实证明如果要OpenGL 3.3的话就必须这个方法了

## Mesa下载
Mesa算是一个开源的3D图形库
可以在GitHub上找到它的源代码和发行版
https://github.com/pal1000/mesa-dist-win/releases

(发行版下载mingw的

目前我的测试是使用了20.0.5的版本成功,新版本没测试(其实就是懒得下载

## 配置

### 安装mesa
比如我这里是Java 17的jre(adoptium)
那么我可以用启动游戏时呼出任务管理器检查文件位置找到java的路径
比如我这里是 "C:\Program Files\Eclipse Adoptium\jre-17.0.4.101-hotspot\bin"

![如图地址](/img/posts/7/224849.png)

那么我们解压并打开下载的Mesa构建包
其中有个perappdeploy的批处理文件,双击打开后会提示管理员提升

![图中的PatchW不是原有的,是我自己弄上去的不用管](/img/posts/7/225232.png)

正常提升后会打开cmd界面
之后首先会有一个按任意键继续

之后进入窗口会提示你输入路径,注意只是路径不带软件名字的

第二步才填写软件的名字,比如正常mc都是调用的javaw.exe
所以如图填写

![路径和名字](/img/posts/7/225449.png)

接下来前两个填写 `y`

![两个y](/img/posts/7/225515.png)

剩下的全部打`n`

### 配置mesa

这一步需要创建一个批处理文件(.bat)在打补丁的文件目录下
**不知道的上网查,毕竟不是保姆**

这个bat里的内容填
```BAT
set MESA_GL_VERSION_OVERRIDE=3.3COMPAT
javaw.exe 12345
```

其中里面的12345可以随便改,只要不是太乱七八糟非法符号啥的都可以

运行一次这个bat,然后就..搞定了?

## 尾声.
好吧我也没想到这玩意这么简单(

这个东西确实能够解决我玩1.19的mc问题,只不过不大行的就是cpu占用率一般比较高
所以帧数是没用1.16或以下那么高
但是,至少能用不是吗?